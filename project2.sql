create database library;
use library;
create table branch(Branch_No int,Manager_Id int,Branch_address varchar(20),Contact_No bigint,primary key(Branch_No));
desc branch;
create table employee(Emp_Id int,Emp_Name varchar(20),positio_n varchar(20),salary int,Branch_No int,primary key(Emp_Id),foreign key(Branch_No) references branch(Branch_No));
desc employee;
create table books(ISBN int,Book_Title varchar(20),category varchar(20),Rental_price varchar(20),Stat_us varchar(20),Author varchar(20),Publisher varchar(20),primary key(ISBN));
desc books;
create table customer(Cus_Id int,Cus_Name varchar(20),Cus_Address varchar(20),Reg_Date date,primary key(Cus_Id));
desc customer;
create table Issue_Status(issue_Id int,Issued_cus int,Issued_Date date,Isbn_book int,primary key(issue_Id),foreign key(Issued_Cus) references customer(Cus_Id),foreign key(Isbn_book) references books(ISBN));
desc Issue_status;
create table return_Status(Return_Id int,Return_cus varchar(20),Return_book_name varchar(20),Retur_date date,isbn_book int,primary key(Return_Id),foreign key(isbn_book) references books(ISBN));
desc return_status;
insert into branch values(01,101,'Thalassery',968745588);
insert into branch values(02,102,'Kannur',967548787);
insert into branch values(03,103,'Dharmadom',968745178);
insert into branch values(04,104,'Vadakara',96877898);
insert into branch values(05,105,'Melur',97485969);
select *from branch;
insert into employee value(10,'Mahesh','Librerian',10000,01);
insert into employee value(11,'Radhika','Librerian',10000,01);
insert into employee value(12,'Surabhi','Manager',15000,01);
insert into employee value(13,'Mariam','Librerian',10000,02);
insert into employee value(14,'Kashi','Librerian',10000,02);
insert into employee value(15,'Joy','Manager',15000,02);
insert into employee value(16,'Raju','Librerian',10000,03);
insert into employee value(17,'Ragav','Librerian',10000,03);
insert into employee value(18,'Biju','Manager',15000,03);
insert into employee value(19,'Kanchi','Librerian',10000,04);
insert into employee value(20,'Raju','Librerian',10000,04);
insert into employee value(21,'Sujaya','Manager',15000,04);
select *from employee;
insert into books values(1001,'Two states','Fiction',50,'Yes','Chethan Bagath','DC books');
insert into books values(1002,'Revolution2020','Fiction',15,'Yes','Chethan Bagath','DC books');
insert into books values(1003,'Alkamist','Fiction',80,'Yes','Paulo cohelo','DC books');
insert into books values(1004,'Volcano','Fiction',70,'Yes','Mahim','Krithi Publication');
insert into books values(1005,'Wings of Fire','Biography',50,'Yes','APJ abdul Kalam','DC books');
insert into books values(1006,'chemmen','Fiction',100,'Yes','Thakazhi','DC books');
insert into books values(1007,'Mechanics','Science',150,'Yes','RD sharma','S chand');
insert into books values(1008,'Quantum Physics','Science',100,'No','Bensal','DC books');
insert into books values(1009,'The queen','Fiction',50,'No','Bagath','DC books');
insert into books values(1010,'Most expected','Fiction',50,'Yes','Dhubari','DC books');
select *from books;
insert into customer values(201,'Ramya','Karthika','2015-10-20');
insert into customer values(202,'Maya','Athira Nivas','2011-11-20');
insert into customer values(203,'Radhika','Vamika Nilayam','2016-10-20');
insert into customer values(204,'Arjun','Nilambari','2023-10-20');
insert into customer values(205,'Baiju','Karuna','2021-10-20');
insert into customer values(206,'Rashi','krthika','2015-10-20');
insert into customer values(207,'Amaya','Surabam','2022-10-20');
insert into customer values(208,'Ragav','Karthika','2018-08-20');
insert into customer values(209,'Rakesh','Amruthasree','2019-10-20');
insert into customer values(210,'Prakash','Priyam','2018-10-20');
select *from customer;
insert into issue_status values(100,202,'2024-01-15',1002);
insert into issue_status values(101,202,'2024-01-15',1005);
insert into issue_status values(102,202,'2024-01-15',1006);
insert into issue_status values(103,201,'2023-10-15',1007);
insert into issue_status values(104,205,'2024-07-15',1010);
insert into issue_status values(105,206,'2024-01-18',1003);
insert into issue_status values(106,207,'2024-05-15',1002);
insert into issue_status values(107,204,'2024-03-15',1001);
insert into issue_status values(108,208,'2023-12-15',1002);
insert into issue_status values(109,209,'2024-02-15',1010);
insert into issue_status values(110,210,'2024-04-16',1008);
select *from issue_status;
insert into return_Status values(110,'Prakash','Quantum Physics','2024-05-15',1008);
insert into return_Status values(109,'Rakesh','Most Expected','2024-03-15',1010);
insert into return_Status values(108,'Ragav','Revolution 2020','2024-01-15',1002);
insert into return_Status values(107,'Arjun','Two states','2024-04-15',1001);
insert into return_Status values(106,'Amaya','Revolution2020','2024-05-25',1002);
insert into return_Status values(105,'Rashi','Alkamist','2024-02-15',1003);
insert into return_Status values(104,'Baiju','Most expected','2024-08-04',1010);
insert into return_Status values(103,'Ramya','Mechanics','2024-05-15',1007);
insert into return_Status values(102,'Maya','Chemmen','2024-02-15',1006);
insert into return_Status values(101,'Maya','Wings of fire','2024-02-15',1008);
insert into return_Status values(100,'Maya','Revolution2020','2024-02-15',1002);
select *from return_status;
select Book_title,Category,Rental_price from books;
select Emp_name,salary from employee order by salary desc;
select issue_status.Issued_cus,issue_status.Isbn_book,customer.Cus_name,books.Book_title from issue_status inner join customer on Issued_cus=Cus_Id inner join books on ISBN=Isbn_book;
select category,count(*) as No_of_book from books group by category;
select emp_name,Positio_n,salary from employee where salary<15000;





